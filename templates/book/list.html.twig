{# templates/book/list.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}List of Books{% endblock %}

{% block body %}
    <h1>List of Books</h1>

    <p>Number of Published Books: {{ publishedBooks|length }}</p>
    <p>Number of Unpublished Books: {{ unpublishedBooks|length }}</p>

    {% if publishedBooks is not empty or unpublishedBooks is not empty %}
        <h2>Published Books:</h2>
        <ul>
            {% for book in publishedBooks %}
                <li>
                    {{ book.title }}
                    <a href="{{ path('edit_book', {'id': book.id}) }}">edit</a>
                    <a href="{{ path('delete_book', {'id': book.id}) }}" onclick="return confirm('Are you sure you want to delete this book?')">delete</a>
                </li>
            {% endfor %}
        </ul>

        <h2>Unpublished Books:</h2>
        <ul>
            {% for book in unpublishedBooks %}
                <li>
                    {{ book.title }}
                    <a href="{{ path('edit_book', {'id': book.id}) }}">edit</a>
                    <a href="{{ path('delete_book', {'id': book.id}) }}" onclick="return confirm('Are you sure you want to delete this book?')">delete</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No Books found</p>
    {% endif %}
{% endblock %}